(()=>{"use strict";function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==i.return||i.return()}finally{if(c)throw r}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i,o,s,r,l,c,a,d,u,h,m,v,f;u=document.getElementsByName("form-callback"),h=document.createElement("p"),m=document.querySelector(".modal-callback"),v=document.querySelector(".modal-overlay"),f=function(t){h.textContent=t,setTimeout((function(){h.remove()}),3e3)},u.forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault(),h.textContent="Загрузка...",t.appendChild(h);var n=new FormData(t),i={};n.forEach((function(t,e){i[e]=t})),function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}(i).then((function(t){if(200!==t.status)throw new Error("status network not 200");f("Спасибо! Мы скоро с вами свяжемся")})).catch((function(t){f("Что-то пошло не так..."),console.error(t)})),t.reset(),setTimeout((function(){m.style.display="none",v.style.display="none"}),5e3)}))})),a=document.querySelector(".up"),d=document.querySelector(".services-section"),window.addEventListener("scroll",(function(){window.scrollY>=d.getBoundingClientRect().top?a.style.display="block":a.style.display="none"})),a.addEventListener("click",(function(t){t.preventDefault(),document.body.scrollIntoView({behavior:"smooth",alignToTop:!0})})),function(){var t=document.querySelector(".modal-callback"),e=document.querySelector(".modal-overlay");document.body.addEventListener("click",(function(n){var i;(i=n.target)&&(i.classList.contains("callback-btn")||i.classList.contains("button-services"))?(t.style.display="block",e.style.display="block"):i&&(i.closest(".modal-close")||i.classList.contains("modal-overlay"))&&(t.style.display="none",e.style.display="none")}))}(),document.querySelector(".top-menu").addEventListener("click",(function(t){t.preventDefault();var e=t.target;"A"===e.tagName&&(t.preventDefault(),document.querySelector(e.getAttribute("href")).scrollIntoView({behavior:"smooth"}))})),function(){var t,e=document.querySelectorAll(".slider-item"),n=document.querySelector(".slick-dots"),i=document.querySelector(".top-slider"),o=0;!function(t){for(var e=0;e<t.length;e++)if(0===e){var i=document.createElement("li");i.classList.add("slick-active"),n.append(i)}else{var o=document.createElement("li");n.append(o)}}(e);var s=document.querySelectorAll(".slick-dots li"),r=function(t,e,n){t[e].classList.remove(n)},l=function(t,e,n){t[e].classList.add(n)};i.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".slick-dots li")&&(r(e,o,"slider-item--active"),r(s,o,"slick-active"),n.matches(".slick-dots li")&&s.forEach((function(t,e){t===n&&(o=e)})),l(e,o,"slider-item--active"),l(s,o,"slick-active"))}));var c=function(){r(e,o,"slider-item--active"),r(s,o,"slick-active"),++o>=e.length&&(o=0),l(e,o,"slider-item--active"),l(s,o,"slick-active")},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;t=setInterval(c,e)};i.addEventListener("mouseover",(function(e){e.target.matches(".slick-dots li")&&clearInterval(t)})),i.addEventListener("mouseout",(function(t){t.target.matches(".slick-dots li")&&a(3e3)})),a(3e3)}(),s=document.querySelector(".services-carousel"),r=document.querySelector(".services-elements"),l=document.querySelector(".arrow-right"),c=document.querySelector(".arrow-left"),new(function(){function e(t,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.carousel=t,this.elements=n,this.slides=t.children,this.position=0,this.next=i,this.prev=o,this.slidesToShow=s,this.widthSlide=Math.floor(100/s)}var i,o;return i=e,(o=[{key:"init",value:function(){this.addClass(),this.controlSlider(),this.popHandler()}},{key:"addClass",value:function(){this.carousel.classList.add("glo-slider__wrap"),this.elements.classList.add("glo-slider");var e,n=t(this.slides);try{for(n.s();!(e=n.n()).done;)e.value.classList.add("glo-slider__item")}catch(t){n.e(t)}finally{n.f()}}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"prevSlider",value:function(){--this.position;var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;t>=768?(this.position<0&&(this.position=this.slides.length-this.slidesToShow),this.carousel.style.transform="translateX(-".concat(this.position*this.widthSlide,"%)")):t<768&&t>=420?(this.position<0&&(this.position=this.slides.length-2),this.carousel.style.transform="translateX(-".concat(50*this.position,"%)")):(this.position<0&&(this.position=this.slides.length-1),this.carousel.style.transform="translateX(-".concat(100*this.position,"%)"))}},{key:"nextSlider",value:function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;t>=768?(++this.position,this.position>this.slides.length-this.slidesToShow&&(this.position=0),this.carousel.style.transform="translateX(-".concat(this.position*this.widthSlide,"%)")):t<768&&t>=420?(++this.position,this.position>this.slides.length-2&&(this.position=0),this.carousel.style.transform="translateX(-".concat(50*this.position,"%)")):t<420&&(++this.position,this.position>this.slides.length-1&&(this.position=0),this.carousel.style.transform="translateX(-".concat(100*this.position,"%)"))}},{key:"popHandler",value:function(){var e,n=document.querySelector(".modal-callback"),i=document.querySelector(".modal-overlay"),o=t(this.slides);try{for(o.s();!(e=o.n()).done;)e.value.addEventListener("click",(function(){n.style.display="block",i.style.display="block"}))}catch(t){o.e(t)}finally{o.f()}}}])&&n(i.prototype,o),e}())(s,r,l,c,3).init(),i=document.querySelector(".accordeon"),o=document.querySelectorAll(".accordeon .element"),i.addEventListener("click",(function(t){var e=t.target.closest(".element");if(e&&e.classList.contains("active")){var n=e.querySelector(".element-content");e.classList.remove("active"),n.style.display="none"}else e&&!e.classList.contains("active")&&o.forEach((function(t){var n=t.querySelector(".element-content");t===e?(t.classList.add("active"),n.style.display="block"):(t.classList.remove("active"),n.style.display="none")}))})),document.querySelectorAll(".form-control").forEach((function(t){var e=document.createAttribute("pattern"),n=document.createAttribute("title");"fio"===t.name?(n.value="Мин. число символов - 2",e.value=".{2,}",t.setAttributeNode(e),t.setAttributeNode(n)):"tel"===t.name&&(n.value="Мин. число символов - 7, макс. - 13",e.value=".{7,13}",t.setAttributeNode(e),t.setAttributeNode(n)),t.addEventListener("input",(function(){"fio"===t.name?t.value=t.value.replace(/[^а-я' ']/i,""):"tel"===t.name&&(t.value=t.value.replace(/[^0-9+]/i,""))}))}))})();